<!DOCTYPE html>
<html>
<head>
	<title>Fighter Game</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" >
	// var pane = document.getElementById('#container'),
	//     box = document.getElementById('#plane'),
	//     w = pane.width() - box.width(),
	//     d = {},
	//     x = 3;
	//
	// pane = $('#container');
	// box = $('#plane');
	// alert('boxW: ' + box.width());
	// alert('paneW: ' + pane.width());
	//
	// function newv(v,a,b) {
	//     var n = parseInt(v, 10) - (d[a] ? x : 0) + (d[b] ? x : 0);
	//     return n < 0 ? 0 : n > w ? w : n;
	// }
	//
	<!-- // $(window).keydown(function(e) { d[e.which] = true; }); -->
	// $(window).keyup(function(e) { d[e.which] = false; });
	//
	// setInterval(function() {
	//     box.css({
	//         left: function(i,v) { return newv(v, 37, 39); },
	//         top: function(i,v) { return newv(v, 38, 40); }
	//     });
	// }, 20);

	</script>

	<script type="text/javascript">

	// window.onkeyup = function(e) {
	function handleKeys (e) {
		var plane = document.getElementById("plane");
		var left = plane.style.left,
		top = plane.style.top,
		right = plane.style.right,
		bottom = plane.style.bottom;

	   var key = e.keyCode ? e.keyCode : e.which;
		if (key == 37) {
			// alert('left');
			moveLeft();
		} else if (key == 38) {
		   // alert('up');
		   moveUp();
	   } else if (key == 39) {
		   // alert('right');
		   moveRight();
	   } else if (key == 40) {
		   // alert('down');
		   moveDown();
	   }
	}
        
    var planeCoords = {
        x: 300,
        y: 190,
        height: 152,
        width: 322
    };
        
    var e1 = {
        x: 0,
        y: 0,
        height: 48,
        width: 52
    }
    
    var e2 = {
        x: 0,
        y: 0,
        height: 48,
        width: 52
    }

	function moveLeft() {
		var plane = document.getElementById("plane");
		if (plane.style.left === "") {
			plane.style.left = 300 + 'px';
            planeCoords.x = 300;
        }
		else {
            plane.style.left = (parseInt(plane.style.left) - 15) + 'px';
            planeCoords.x = (parseInt(plane.style.left) - 15);
        }
	}
	function moveUp() {
		var plane = document.getElementById("plane");
		if (plane.style.top === "") {
            plane.style.top = 190 + 'px';
            planeCoords.y = 190;
        }
		else {
            plane.style.top = (parseInt(plane.style.top) - 15) + 'px';
            planeCoords.y = (parseInt(plane.style.top) - 15);
        }

	}
	function moveRight() {
		var plane = document.getElementById("plane");
		if (plane.style.left === "") {
            plane.style.left = 300 + 'px';
            planeCoords.x = 300;
        }
		else {
            plane.style.left = (parseInt(plane.style.left) + 15) + 'px';
            planeCoords.x = (parseInt(plane.style.left) + 15) ;
        }
	}
	function moveDown() {
		var plane = document.getElementById("plane");
		if (plane.style.top === "") {
            plane.style.top = 190 + 'px';
            planeCoords.y = 190;
        }
		else {
            plane.style.top = (parseInt(plane.style.top) + 15) + 'px';
            planeCoords.y = (parseInt(plane.style.top) + 15);
        }
	}

	// Registering the event listener
	function getReady() {
		window.addEventListener('keydown', handleKeys);
	}
        
    function isCollide(a, b) 
    {
        return !(
            ((a.y + a.height) < (b.y)) ||
            (a.y > (b.y + b.height)) ||
            ((a.x + a.width) < b.x) ||
            (a.x > (b.x + b.width))
        );
    }

    var time = 0;
	setInterval(function(){
        // getComputedStyle().left
        var e1 = document.getElementById("e1");
        var e2 = document.getElementById("e2");
        var plane = document.getElementById("plane");

        // console.log('plane left: ' + plane.getComputedStyle().left);
        // console.log('e1 lef: ' + e1.getComputedStyle().left)
        // console.log('e2 lef: ' + e2.getComputedStyle().left)

        if (plane.style.left === "") {
            plane.style.left = '300px';
            plane.style.top = '190px';
        }
        if (e1.style.left === "") {
            e1.style.left = '300px';
            e1.style.top = '190px';
        }
        if (e2.style.left === "") {
            e2.style.left = '300px';
            e2.style.top = '190px';
        }
        time++;
//        if ( time % 100 == 0) {
//            console.log(planeCoords.down);
//        }

        
	},33);

	</script>

</head>
<body onload="getReady()" onkeydown="" onkeyup="" >
	<div id="body">
		<div class="frame" id="container">
			<!-- Plane -->
			<div id="plane"></div>

			<!-- Clouds -->
			<div class="clds"></div>
			<div class="clds2"></div>

			<!-- Enemies -->
			<div id="e1" ></div>
			<div id="e2" ></div>
		</div>

	</div>
</body>
</html>
